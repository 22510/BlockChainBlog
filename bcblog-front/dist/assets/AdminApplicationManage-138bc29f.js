import{_ as E,h as u,r as d,o as P,c as R,a as s,b as e,w as t,u as l,j as g,e as c,t as f,D as F,p as T,f as q}from"./index-8b895a85.js";const _=h=>(T("data-v-7afd7154"),h=h(),q(),h),H={class:"box0"},K={class:"box1"},L={class:"box1_1"},O=_(()=>s("div",{style:{"font-size":"small",height:"5vh"}}," 待面试人名单 ",-1)),Q={class:"box1_2"},W=_(()=>s("div",{style:{"font-size":"small",height:"5vh"}}," 已面试人名单 ",-1)),X={class:"box2"},Y={class:"applicationDetail"},Z=_(()=>s("div",{class:"cell-item"}," 名字 ",-1)),ee=_(()=>s("div",{class:"cell-item"}," 年级 ",-1)),te=_(()=>s("div",{class:"cell-item"}," 邮箱 ",-1)),ae=_(()=>s("div",{class:"cell-item"}," 方向 ",-1)),le=_(()=>s("div",{class:"cell-item"}," 简介 ",-1)),oe=["src"],se={class:"adminJudge"},ne={__name:"AdminApplicationManage",setup(h){let k=u();const b=()=>{g.get("application/applications",{headers:{token:localStorage.getItem("token")}}).then(o=>{o.data.success==!0?k.value=o.data.data:alert("获取面试人信息失败")}).catch(function(o){console.log(o)})};b();let i=u(["","","","",""]);const I=o=>{g.get("application/loadDetail",{params:{userName:o},headers:{token:localStorage.getItem("token")}}).then(a=>{a.data.success==!0?i.value=a.data.data:alert("获取面试人信息失败")}).catch(function(a){console.log(a)})};let p=u({name:"",evaluate:"",type:0});const z=(o,a)=>{alert("正在提交面试结果..."),g.post("admin/judge",{userName:o,comments:a.evaluate,score:a.type},{headers:{token:localStorage.getItem("token")}}).then(n=>{n.data.success==!0?(alert("面试评价成功."),N(),console.log(n.data.data)):alert("面试评价失败."),N(),b(),w()}).catch(function(n){console.log(n)})},N=()=>{i="",p=""};let V=u();const w=()=>{g.get("application/applicationsJudged",{headers:{token:localStorage.getItem("token")}}).then(o=>{o.data.success==!0?V.value=o.data.data:alert("获取面试人信息失败")}).catch(function(o){console.log(o)})};w(),setInterval(()=>{b(),w()},1e3*60*10);const x=u(!1);u();const C=u(),A=o=>"http://39.101.74.9/pdfs/"+o+".pdf";return(o,a)=>{const n=d("el-table-column"),v=d("el-button"),D=d("el-table"),U=d("el-scrollbar"),m=d("el-descriptions-item"),$=d("el-descriptions"),B=d("el-drawer"),G=d("el-input"),y=d("el-form-item"),S=d("el-radio"),J=d("el-radio-group"),M=d("el-form");return P(),R("div",H,[s("div",K,[s("div",L,[O,e(D,{data:l(k),style:{"max-height":"36vh",width:"100%",overflow:"auto"},class:"table1","fixed-header":!0},{default:t(()=>[e(n,{prop:"userName",label:"名字"}),e(n,{prop:"userGrade",label:"年级"}),e(n,{prop:"userInterest",label:"方向"}),e(n,{fixed:"right",label:"操作"},{default:t(r=>[e(v,{link:"",type:"primary",size:"small",onClick:j=>I(r.row.userName)},{default:t(()=>[c("评价")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),s("div",Q,[e(U,null,{default:t(()=>[W,e(D,{data:l(V),style:{"max-height":"31.4vh",width:"100%",overflow:"auto"},class:"table1","fixed-header":!0},{default:t(()=>[e(n,{prop:"userName",label:"名字"}),e(n,{prop:"userGrade",label:"年级"}),e(n,{prop:"userInterest",label:"方向"}),e(n,{fixed:"right",label:"操作"},{default:t(r=>[e(v,{link:"",type:"primary",size:"small",onClick:j=>I(r.row.userName)},{default:t(()=>[c("评价")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})])]),s("div",X,[s("div",Y,[e($,{data:l(i),props:l(F),title:"面试人详情",column:2,border:""},{default:t(()=>[e(m,{width:"100px"},{label:t(()=>[Z]),default:t(()=>[c(" "+f(l(i).userName),1)]),_:1}),e(m,{width:"100px"},{label:t(()=>[ee]),default:t(()=>[c(" "+f(l(i).userGrade),1)]),_:1}),e(m,{width:"100px"},{label:t(()=>[te]),default:t(()=>[c(" "+f(l(i).userEmail),1)]),_:1}),e(m,{width:"100px"},{label:t(()=>[ae]),default:t(()=>[c(" "+f(l(i).userInterest),1)]),_:1}),e(m,{width:"100px"},{label:t(()=>[le]),default:t(()=>[c(" "+f(l(i).userDescription),1)]),_:1})]),_:1},8,["data","props"]),e(v,{type:"primary",size:"large",style:{width:"5vw","margin-top":"5vh","margin-left":"18vw"},onClick:a[0]||(a[0]=r=>(x.value=!0,C.value=A(l(i).userName)))},{default:t(()=>[c(" 查看简历 ")]),_:1})]),e(B,{class:"drawer",modelValue:x.value,"onUpdate:modelValue":a[1]||(a[1]=r=>x.value=r),direction:"ltr",size:"55vw"},{default:t(()=>[s("iframe",{style:{width:"100%",height:"99%"},src:C.value},null,8,oe)]),_:1},8,["modelValue"]),s("div",se,[e(M,{data:l(i),"label-width":"120px"},{default:t(()=>[e(y,{label:"面试评价",prop:"evaluate",style:{width:"90%"}},{default:t(()=>[e(G,{modelValue:l(p).evaluate,"onUpdate:modelValue":a[2]||(a[2]=r=>l(p).evaluate=r),type:"textarea",autosize:{minRows:3,maxRows:8}},null,8,["modelValue"])]),_:1}),e(y,{label:"面试结果",prop:"type"},{default:t(()=>[e(J,{modelValue:l(p).type,"onUpdate:modelValue":a[3]||(a[3]=r=>l(p).type=r)},{default:t(()=>[e(S,{label:1},{default:t(()=>[c("通过")]),_:1}),e(S,{label:0},{default:t(()=>[c("不通过")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(y,null,{default:t(()=>[e(v,{type:"primary",onClick:a[4]||(a[4]=r=>z(l(i).userName,l(p)))},{default:t(()=>[c("提交")]),_:1})]),_:1})]),_:1},8,["data"])])])])}}},ie=E(ne,[["__scopeId","data-v-7afd7154"]]);export{ie as default};
