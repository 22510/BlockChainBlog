import{_ as C}from"./BClogo-c299679b.js";import{g as B,h as w,i as y,r as l,o as I,c as F,a as p,b as e,w as a,e as u,j as L,E as m,p as S,f as N,l as A,_ as M}from"./index-8b895a85.js";const R=n=>(S("data-v-66e721a6"),n=n(),N(),n),T={class:"shell"},q={class:"BCLogo",style:{"padding-top":"5%"}},U=R(()=>p("img",{style:{width:"150px"},src:C},null,-1)),$={style:{"font-size":"60px","text-shadow":"0 0 0.5em #38a1ff, 0 0 0.2em #5c5c5c"},class:"BCName"},j=B({__name:"AdminLogin",setup(n){const _=A;w("default");const f=w(),o=y({email:"",password:""}),h=y({email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),v=()=>{m({message:"管理员登录成功, 正在跳转.",type:"success"}),setTimeout(()=>{_.push("/adminpage")},3e3)},x=()=>{m({message:"登录失败, 请重新尝试.",type:"error"})},b=async r=>{if(!r)return console.error("错误");await r.validate((s,d)=>{s?L.post("admin/login",{email:o.email,password:o.password}).then(function(t){t.data.success==!0&&t.data.data!=null?(localStorage.setItem("token",t.data.data),v()):(x(),r.resetFields())}).catch(function(t){console.log(t)}):console.log("error submit!",d)})},k=()=>{m({message:"正在前往管理员身份获取.",type:"success"}),setTimeout(()=>{_.push("/adminregister")},2e3)};return(r,s)=>{const d=l("router-link"),t=l("el-input"),c=l("el-form-item"),g=l("el-button"),V=l("el-form");return I(),F("div",T,[p("div",q,[U,p("div",$,[e(d,{to:"/",class:"toIndex"},{default:a(()=>[u("BlockChain Studio 208")]),_:1})])]),e(V,{ref_key:"ruleFormRef",ref:f,model:o,rules:h,"label-width":"150px",class:"applicationForm","status-icon":"","label-position":"left"},{default:a(()=>[e(c,{label:"邮箱",prop:"email"},{default:a(()=>[e(t,{modelValue:o.email,"onUpdate:modelValue":s[0]||(s[0]=i=>o.email=i)},null,8,["modelValue"])]),_:1}),e(c,{label:"密码:",prop:"password"},{default:a(()=>[e(t,{modelValue:o.password,"onUpdate:modelValue":s[1]||(s[1]=i=>o.password=i)},null,8,["modelValue"])]),_:1}),e(c,{class:"submitButton"},{default:a(()=>[e(g,{type:"primary",onClick:s[2]||(s[2]=i=>b(f.value))},{default:a(()=>[u(" 登录 ")]),_:1}),e(g,{type:"primary",onClick:k},{default:a(()=>[u(" 管理员身份获取 ")]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}});const D=M(j,[["__scopeId","data-v-66e721a6"]]);export{D as default};
